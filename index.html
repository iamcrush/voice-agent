<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Voice Agent</title>
</head>
<body>
  <!-- ElevenLabs Conversational Agent Widget -->
  <elevenlabs-convai agent-id="agent_01jyez28ecfttt78cdcgf8rk8m"></elevenlabs-convai>
  <script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>

  <!-- Auto-start logic: inject client data and optionally click start -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const event = new CustomEvent("conversation_initiation_client_data", {
        detail: {
          user_name: "Crush",
          location: "Shortcut Trigger",
          context: "User opened the assistant via Siri Shortcut."
        }
      });
      window.dispatchEvent(event);

      // Optionally simulate button press
      setTimeout(() => {
        const startBtn = document.querySelector('button');
        if (startBtn && startBtn.innerText.toLowerCase().includes("start")) {
          startBtn.click();
        }
      }, 1200);
    });
  </script>
</body>
</html>