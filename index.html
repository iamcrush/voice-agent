<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Auto-Start Voice Agent</title>
    <script type="module">
      import {
        createAgentInstance,
      } from 'https://cdn.jsdelivr.net/npm/@elevenlabs/voice-agent-web/dist/index.min.js';

      window.onload = async () => {
        const agent = await createAgentInstance({
          agentId: "agent_01jyez28ecfttt78cdcgf8rk8m", // Your agent ID
          enableWakeWord: false,
          showDebugInfo: false,
        });

        // Wait for the widget to initialize
        agent.on('ready', async () => {
          console.log("Agent ready. Sending first message...");

          // REQUIRED dynamic variable
          const userName = "Crush"; // Replace with actual user_name if dynamic
          
          await agent.startConversation({
            message: "Hi there, what's the weather like today?",
            sessionParams: {
              user_name: userName
            }
          });
        });
      };
    </script>
  </head>
  <body>
  </body>
</html>